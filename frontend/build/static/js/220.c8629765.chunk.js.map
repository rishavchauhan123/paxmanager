{"version":3,"file":"static/js/220.c8629765.chunk.js","mappings":"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","sources":["pages/UsersPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { DashboardLayout } from '../components/DashboardLayout';\nimport axios from '../utils/axios';\nimport { toast } from 'sonner';\nimport { Button } from '../components/ui/button';\nimport { Card } from '../components/ui/card';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '../components/ui/dialog';\nimport { Input } from '../components/ui/input';\nimport { Label } from '../components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '../components/ui/select';\nimport { Badge } from '../components/ui/badge';\nimport { Plus } from 'lucide-react';\n\nexport default function UsersPage() {\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showDialog, setShowDialog] = useState(false);\n  const [formData, setFormData] = useState({\n    email: '',\n    name: '',\n    password: '',\n    role: 'agent1',\n  });\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const fetchUsers = async () => {\n    try {\n      const response = await axios.get('/users');\n      setUsers(response.data);\n    } catch (error) {\n      toast.error('Error loading users');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await axios.post('/auth/register', formData);\n      toast.success('User created successfully');\n      setShowDialog(false);\n      setFormData({ email: '', name: '', password: '', role: 'agent1' });\n      fetchUsers();\n    } catch (error) {\n      toast.error(error.response?.data?.detail || 'Error creating user');\n    }\n  };\n\n  if (loading) {\n    return (\n      <DashboardLayout>\n        <div className=\"flex items-center justify-center h-96\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\n        </div>\n      </DashboardLayout>\n    );\n  }\n\n  const getRoleBadgeColor = (role) => {\n    const colors = {\n      admin: 'bg-red-100 text-red-700',\n      account: 'bg-purple-100 text-purple-700',\n      agent1: 'bg-blue-100 text-blue-700',\n      agent2: 'bg-green-100 text-green-700',\n    };\n    return colors[role] || 'bg-gray-100 text-gray-700';\n  };\n\n  return (\n    <DashboardLayout>\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-slate-900 tracking-tight\">Users</h1>\n            <p className=\"text-sm text-slate-600 mt-1\">Manage system users and roles</p>\n          </div>\n          <Dialog open={showDialog} onOpenChange={setShowDialog}>\n            <DialogTrigger asChild>\n              <Button data-testid=\"add-user-btn\">\n                <Plus className=\"h-5 w-5 mr-2\" />\n                Add User\n              </Button>\n            </DialogTrigger>\n            <DialogContent>\n              <DialogHeader>\n                <DialogTitle>Add New User</DialogTitle>\n              </DialogHeader>\n              <form onSubmit={handleSubmit} className=\"space-y-4\">\n                <div>\n                  <Label htmlFor=\"name\">Name *</Label>\n                  <Input\n                    id=\"name\"\n                    required\n                    value={formData.name}\n                    onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                    data-testid=\"user-name-input\"\n                  />\n                </div>\n                <div>\n                  <Label htmlFor=\"email\">Email *</Label>\n                  <Input\n                    id=\"email\"\n                    type=\"email\"\n                    required\n                    value={formData.email}\n                    onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                    data-testid=\"user-email-input\"\n                  />\n                </div>\n                <div>\n                  <Label htmlFor=\"password\">Password *</Label>\n                  <Input\n                    id=\"password\"\n                    type=\"password\"\n                    required\n                    value={formData.password}\n                    onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n                    data-testid=\"user-password-input\"\n                  />\n                </div>\n                <div>\n                  <Label htmlFor=\"role\">Role *</Label>\n                  <Select\n                    value={formData.role}\n                    onValueChange={(value) => setFormData({ ...formData, role: value })}\n                  >\n                    <SelectTrigger>\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"agent1\">Agent 1</SelectItem>\n                      <SelectItem value=\"agent2\">Agent 2 (Manager)</SelectItem>\n                      <SelectItem value=\"account\">Account</SelectItem>\n                      <SelectItem value=\"admin\">Admin</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n                <Button type=\"submit\" className=\"w-full\" data-testid=\"submit-user-btn\">\n                  Add User\n                </Button>\n              </form>\n            </DialogContent>\n          </Dialog>\n        </div>\n\n        <Card>\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-slate-50 border-b border-slate-200\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider\">\n                    Name\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider\">\n                    Email\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider\">\n                    Role\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider\">\n                    Status\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-slate-200\">\n                {users.length === 0 ? (\n                  <tr>\n                    <td colSpan=\"4\" className=\"px-6 py-8 text-center text-sm text-slate-500\">\n                      No users found\n                    </td>\n                  </tr>\n                ) : (\n                  users.map((user) => (\n                    <tr key={user.id} className=\"hover:bg-slate-50 transition-colors\">\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900\">\n                        {user.name}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-slate-600\">\n                        {user.email}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <Badge className={getRoleBadgeColor(user.role)}>\n                          {user.role.replace('_', ' ').replace(/\\b\\w/g, (l) => l.toUpperCase())}\n                        </Badge>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <Badge className={user.is_active ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}>\n                          {user.is_active ? 'Active' : 'Inactive'}\n                        </Badge>\n                      </td>\n                    </tr>\n                  ))\n                )}\n              </tbody>\n            </table>\n          </div>\n        </Card>\n      </div>\n    </DashboardLayout>\n  );\n}\n"],"names":["UsersPage","users","setUsers","useState","loading","setLoading","showDialog","setShowDialog","formData","setFormData","email","name","password","role","useEffect","fetchUsers","async","response","axios","get","data","error","toast","_jsx","DashboardLayout","children","className","_jsxs","Dialog","open","onOpenChange","DialogTrigger","asChild","Button","Plus","DialogContent","DialogHeader","DialogTitle","onSubmit","e","preventDefault","post","success","_error$response","_error$response$data","detail","Label","htmlFor","Input","id","required","value","onChange","_objectSpread","target","type","Select","onValueChange","SelectTrigger","SelectValue","SelectContent","SelectItem","Card","length","colSpan","map","user","Badge","admin","account","agent1","agent2","replace","l","toUpperCase","is_active"],"ignoreList":[],"sourceRoot":""}