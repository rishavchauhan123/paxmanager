"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[220],{4220(e,s,t){t.r(s),t.d(s,{default:()=>g});var a=t(2555),r=t(5043),l=t(1983),n=t(4473),i=t(6328),d=t(3390),c=t(1140),x=t(7855),o=t(2264),h=t(556),m=t(4312),p=t(5949),u=t(1360),j=t(579);function g(){const[e,s]=(0,r.useState)([]),[t,g]=(0,r.useState)(!0),[b,v]=(0,r.useState)(!1),[w,f]=(0,r.useState)({email:"",name:"",password:"",role:"agent1"});(0,r.useEffect)(()=>{y()},[]);const y=async()=>{try{const e=await n.Ay.get("/users");s(e.data)}catch(e){i.oR.error("Error loading users")}finally{g(!1)}};if(t)return(0,j.jsx)(l.N,{children:(0,j.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,j.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})});return(0,j.jsx)(l.N,{children:(0,j.jsxs)("div",{className:"space-y-6",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Users"}),(0,j.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Manage system users and roles"})]}),(0,j.jsxs)(x.lG,{open:b,onOpenChange:v,children:[(0,j.jsx)(x.zM,{asChild:!0,children:(0,j.jsxs)(d.$,{"data-testid":"add-user-btn",children:[(0,j.jsx)(u.A,{className:"h-5 w-5 mr-2"}),"Add User"]})}),(0,j.jsxs)(x.Cf,{children:[(0,j.jsx)(x.c7,{children:(0,j.jsx)(x.L3,{children:"Add New User"})}),(0,j.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await n.Ay.post("/auth/register",w),i.oR.success("User created successfully"),v(!1),f({email:"",name:"",password:"",role:"agent1"}),y()}catch(a){var s,t;i.oR.error((null===(s=a.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.detail)||"Error creating user")}},className:"space-y-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(h.J,{htmlFor:"name",children:"Name *"}),(0,j.jsx)(o.p,{id:"name",required:!0,value:w.name,onChange:e=>f((0,a.A)((0,a.A)({},w),{},{name:e.target.value})),"data-testid":"user-name-input"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(h.J,{htmlFor:"email",children:"Email *"}),(0,j.jsx)(o.p,{id:"email",type:"email",required:!0,value:w.email,onChange:e=>f((0,a.A)((0,a.A)({},w),{},{email:e.target.value})),"data-testid":"user-email-input"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(h.J,{htmlFor:"password",children:"Password *"}),(0,j.jsx)(o.p,{id:"password",type:"password",required:!0,value:w.password,onChange:e=>f((0,a.A)((0,a.A)({},w),{},{password:e.target.value})),"data-testid":"user-password-input"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(h.J,{htmlFor:"role",children:"Role *"}),(0,j.jsxs)(m.l6,{value:w.role,onValueChange:e=>f((0,a.A)((0,a.A)({},w),{},{role:e})),children:[(0,j.jsx)(m.bq,{children:(0,j.jsx)(m.yv,{})}),(0,j.jsxs)(m.gC,{children:[(0,j.jsx)(m.eb,{value:"agent1",children:"Agent 1"}),(0,j.jsx)(m.eb,{value:"agent2",children:"Agent 2 (Manager)"}),(0,j.jsx)(m.eb,{value:"account",children:"Account"}),(0,j.jsx)(m.eb,{value:"admin",children:"Admin"})]})]})]}),(0,j.jsx)(d.$,{type:"submit",className:"w-full","data-testid":"submit-user-btn",children:"Add User"})]})]})]})]}),(0,j.jsx)(c.Zp,{children:(0,j.jsx)("div",{className:"overflow-x-auto",children:(0,j.jsxs)("table",{className:"w-full",children:[(0,j.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200",children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Name"}),(0,j.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Email"}),(0,j.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Role"}),(0,j.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Status"})]})}),(0,j.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:0===e.length?(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:"4",className:"px-6 py-8 text-center text-sm text-slate-500",children:"No users found"})}):e.map(e=>{return(0,j.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors",children:[(0,j.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900",children:e.name}),(0,j.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:e.email}),(0,j.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,j.jsx)(p.E,{className:(s=e.role,{admin:"bg-red-100 text-red-700",account:"bg-purple-100 text-purple-700",agent1:"bg-blue-100 text-blue-700",agent2:"bg-green-100 text-green-700"}[s]||"bg-gray-100 text-gray-700"),children:e.role.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())})}),(0,j.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,j.jsx)(p.E,{className:e.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700",children:e.is_active?"Active":"Inactive"})})]},e.id);var s})})]})})})]})})}}}]);
//# sourceMappingURL=220.c8629765.chunk.js.map